%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode
% Awesome CV LaTeX Template for CV/Resume - Chinese Version
%
% Original author:
% Claud D. Park <posquit0.bj@gmail.com>
% http://www.posquit0.com
%
% Modifications by:
% Junjie Yin <yinjunjie98@gmail.com>
%
% Template license:
% CC BY-SA 4.0 (https://creativecommons.org/licenses/by-sa/4.0/)
%

%-------------------------------------------------------------------------------
% CONFIGURATIONS
%-------------------------------------------------------------------------------

% A4 paper size by default, use 'letterpaper' for US letter
\documentclass[12pt, a4paper]{awesome-cv}

\usepackage{fontspec}
\usepackage{hyperref}
\usepackage{lastpage}
\usepackage{graphicx,calc}
\definecolor{link}{RGB}{28,74,238}

% Set Chinese fonts
\usepackage{xeCJK}
\setCJKmainfont{Noto Serif CJK SC}
\setCJKsansfont{Noto Sans CJK SC}
\setCJKmonofont{Noto Sans Mono CJK SC}

% Configure page margins with geometry
\geometry{left=1.4cm, top=.4cm, right=1.4cm, bottom=1.8cm, footskip=15pt}

% Color for highlights
\colorlet{awesome}{awesome-darknight}

% Set false if you don't want to highlight section with awesome color
\setbool{acvSectionColorHighlight}{true}

% If you would like to change the social information separator from a pipe (|) to something else
\renewcommand{\acvHeaderSocialSep}{\quad\textbar\quad}

\makeatletter
\patchcmd{\@sectioncolor}{\color}{\mdseries\color}{}{}
\makeatother

%-------------------------------------------------------------------------------
%	CUSTOM FONT SIZE AND SPACING OVERRIDES (同英文版本)
%-------------------------------------------------------------------------------
% Scale font sizes to match 12pt document class
\renewcommand*{\paragraphstyle}{\fontsize{11pt}{1.3em}\bodyfontlight\upshape\color{text}}
\renewcommand*{\descriptionstyle}[1]{{\fontsize{11pt}{1.3em}\bodyfontlight\upshape\color{text} #1}}
\renewcommand*{\entrytitlestyle}[1]{{\fontsize{12pt}{1.3em}\bodyfont\bfseries\color{darktext} #1}}
\renewcommand*{\entrypositionstyle}[1]{{\fontsize{10pt}{1.2em}\bodyfont\color{graytext} #1}}
\renewcommand*{\entrydatestyle}[1]{{\fontsize{10pt}{1.2em}\bodyfontlight\color{graytext} #1}}
\renewcommand*{\entrylocationstyle}[1]{{\fontsize{10pt}{1.2em}\bodyfontlight\slshape\color{awesome} #1}}

% Scale honor-related styles
\renewcommand*{\honortitlestyle}[1]{{\fontsize{11pt}{1.3em}\bodyfont\color{graytext} #1}}
\renewcommand*{\honorpositionstyle}[1]{{\fontsize{11pt}{1.3em}\bodyfont\bfseries\color{darktext} #1}}
\renewcommand*{\honordatestyle}[1]{{\fontsize{10pt}{1.2em}\bodyfont\color{graytext} #1}}
\renewcommand*{\honorlocationstyle}[1]{{\fontsize{10pt}{1.2em}\bodyfontlight\slshape\color{awesome} #1}}

% Adjust spacing for better consistency
\renewcommand{\acvSectionTopSkip}{6mm}
\renewcommand{\acvSectionContentTopSkip}{1mm}

% Fix cvparagraph spacing issues
\renewenvironment{cvparagraph}{%
  \vspace{0mm}
  \paragraphstyle
}{%
  \par
  \vspace{1mm}
}

% Fix cventry to remove negative spacing
\renewcommand*{\cventry}[5]{%
  \vspace{1mm}  % Changed from -3.5mm
  \setlength\tabcolsep{0pt}
  \setlength{\extrarowheight}{0pt}
  \allowbreak  % Allow page breaks before entries
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{\textwidth - 5.5cm} R{5.5cm}}
    \ifempty{#1#3#4}
      {\entrytitlestyle{#2}\setlength{\leftmargin}{-20em} \noindent\\
        \multicolumn{1}{L{\textwidth}}{\descriptionstyle{#5}}}
      {\ifempty{#2#3}
          {\entrypositionstyle{#1} & \entrydatestyle{#4} \\}
          {\entrytitlestyle{#2} & \entrylocationstyle{#3} \\
            \entrypositionstyle{#1} & \entrydatestyle{#4} \\}
        \multicolumn{2}{L{\textwidth}}{\descriptionstyle{#5}}}
  \end{tabular*}%
}

% Fix cvitemize2 to have proper spacing
\renewenvironment{cvitemize2}{%
  \vspace{1mm}  % Changed from -4mm
  \begin{justify}
  \begin{enumerate}[leftmargin=4ex, nosep, noitemsep]
    \setlength{\parskip}{0pt}
    \renewcommand{\labelenumi}{[\theenumi]}
}{%
  \end{enumerate}
  \end{justify}
  \vspace{2mm}  % Changed from -4mm
}

% Fix cvhonors spacing
\renewenvironment{cvhonors}{%
  \vspace{\acvSectionContentTopSkip}
  \vspace{-1mm}
  \begin{center}
    \setlength\tabcolsep{0pt}
    \setlength{\extrarowheight}{0pt}
    \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} C{1.5 cm} L{\textwidth - 3.0cm} R{1.5cm}}
}{%
    \end{tabular*}
  \end{center}
}

%-------------------------------------------------------------------------------
%	PERSONAL INFORMATION
%	Comment any of the lines below if they are not required
%-------------------------------------------------------------------------------
% Available options: circle|rectangle,edge/noedge,left/right
%\photo[rectangle,noedge,right]{picture.jpg}  
\name{戴静}{(Jing Dai)}
\position{\ } 

%\mobile{(+00)123-456-789}
\email{daisydai@sjtu.edu.cn}
%\birth{199x}
% \homepage{daisydai008.github.io}
\extrainfo{\href{https://daisydai008.github.io/}{daisydai008.github.io}}
% \github{daisydai008}
%\linkedin{username}
%\gitlab{gitlab-id}
%\stackoverflow{SO-id}{SO-name}
%\twitter{@twit}
%\skype{skype-id}
%\reddit{reddit-id}
%\extrainfo{extra informations}
%\orcid{0000-0002-1234-1234}
\location{上海 200240, 中国}
%\researchgate{Name}

%-------------------------------------------------------------------------------

\begin{document}

% Print the header with above personal informations
% Give optional argument to change alignment(C: center, L: left, R: right)
\makecvheader[C]

% Print the footer with 3 arguments(<left>, <center>, <right>)
% Leave any of these blank if they are not needed
\makecvfooter
{最后更新: \today}%{\today}
{}%简历
{\thepage \ / \pageref{LastPage}}%{}

%-------------------------------------------------------------------------------
%	CV/RESUME CONTENT
%	Each section is imported separately, open each file in turn to modify content
%-------------------------------------------------------------------------------
\input{cv-zh/Education.tex}
\input{cv-zh/Research Statement.tex}
\input{cv-zh/Publications.tex}
\input{cv-zh/Research Projects.tex}
\input{cv-zh/Teaching Experience.tex}
\input{cv-zh/Technical Skills.tex}
\input{cv-zh/Awards and Honors.tex}
%-------------------------------------------------------------------------------
\end{document}